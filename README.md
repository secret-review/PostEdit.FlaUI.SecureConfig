# PostEdit

## プロジェクト概要
Windows Copilot を自動操作し、BlueSky 向け投稿文の生成・管理・自動投稿を行うデスクトップアプリです。

## 機能一覧
- Windows 標準の Copilot を自動操作し、投稿文生成を効率化する。  
- BlueSky 向けの投稿文を、任意の件数で自動生成できる。  
- アプリ内で作成したプロンプトを Copilot に送信し、生成結果をコードブロック形式で取得。  
  取得した内容はクリップボード経由でアプリフォームへ自動反映される。  
- 生成された投稿文は、選択したものをデータベースへ保存可能。  
- 保存されたレコードは、VPS 上のコンソールアプリが毎日決まった時間に自動投稿（レコードが存在する限り継続）。  
- 投稿文の編集機能を別タブで提供し、保存済みレコードの更新が可能。

## 技術構成
- **C# / .NET**  
  WinForms を用いたデスクトップアプリケーション。

- **FlaUI**  
  Windows Copilot の UI 自動操作に使用。

- **MySQL**  
  投稿文の保存・管理に使用。

- **SSH トンネル**  
  VPS 上の MySQL に安全に接続するための仕組み。

- **Console Application（VPS 側・別プロジェクト）**  
  保存された投稿文を毎日決まった時間に自動投稿するバッチ処理。  
  技術詳細は別リポジトリに記載し、本アプリとはデータベースを介して連携。

## セキュリティ配慮
- **appsettings.json と appsettings.Local.json を分離**  
  公開用の設定ファイルにはダミー値のみを記載し、実際の接続情報は Local.json に保持。  
  Local.json は `.gitignore` によりリポジトリへ含めない構成とし、安全に公開可能。

- **SSH トンネルを利用した安全な DB 接続**  
  VPS 上の MySQL へ直接接続せず、SSH トンネル経由で通信を行うことで、  
  外部からの不正アクセスを防止。

- **秘密鍵・認証情報の完全除外**  
  `.ppk` などの秘密鍵ファイルはすべて `.gitignore` により除外。  
  公開リポジトリに機密情報が含まれないよう徹底。

- **責務分離による安全性向上**  
  投稿生成アプリと自動投稿バッチを別プロジェクトとして分離し、  
  不要な権限を持たせない構成にすることでリスクを低減。

## 実行方法
1. リポジトリをクローンまたはダウンロードする。
2. `appsettings.Local.json` を作成し、実際の接続情報（SSH・DB など）を記載する。  
   ※ `appsettings.json` は公開用のダミー設定のため、そのままでは動作しません。
3. ソリューションを開き、デスクトップアプリをビルド・実行する。
4. アプリ内でプロンプトを入力し、投稿文を生成・保存・編集できる。

## システム構成（概要）
本アプリは、デスクトップアプリと VPS 上の自動投稿バッチの 2 つのコンポーネントで構成されています。

**デスクトップアプリ（本リポジトリ）**  
- Copilot を自動操作して投稿文を生成  
- 投稿文を編集・選択してデータベースへ保存  
- SSH トンネル経由で VPS 上の MySQL に接続

**自動投稿バッチ（別プロジェクト）**  
- データベースに保存された投稿文を取得  
- 毎日決まった時間に BlueSky へ自動投稿  
- 投稿文が存在する限り処理を継続  
- 技術詳細は別リポジトリに記載

両者は **MySQL データベースを介して連携**し、  
投稿文の生成から自動投稿までを一連のフローとして実現しています。

## 注意事項
- 本アプリは **データベース接続設定（appsettings.Local.json）を前提として動作**します。  
  公開リポジトリには実際の接続情報を含めていないため、そのままでは動作しません。
- Windows Copilot の仕様変更や UI 更新により、FlaUI を用いた自動操作が動作しなくなる可能性があります。
- VPS 側の自動投稿バッチは別プロジェクトとして管理しており、本リポジトリには含まれていません。
- BlueSky API の仕様変更により、自動投稿処理が影響を受ける場合があります。

## ライセンス
本リポジトリのコードは、個人の学習・ポートフォリオ目的で公開しています。  
商用利用や再配布を行う場合は、事前にご相談ください。
